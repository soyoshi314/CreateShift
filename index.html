<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>シフト入力補助アプリ（最終版）</title>
    <style>
        /* 見た目を整えるためのCSS */
        body {
            font-family: sans-serif;
            padding: 20px;
            line-height: 1.8;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 8px;
        }
        .input-group {
            margin-bottom: 20px;
        }
        .input-group label {
            font-weight: bold;
            margin-right: 10px;
        }
        #mainTextBox {
            padding: 8px;
            width: 200px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .shift-block {
            margin-top: 25px;
        }
        /* 【】で囲まれたタイトルのスタイル */
        .block-title {
            font-size: 1.2em; /* 文字を少し大きく */
            font-weight: bold;   /* 文字を太字に */
        }
        .shift-line {
            display: flex;
            align-items: center;
        }
        /* 日付部分のスタイル */
        .date-entry {
            cursor: pointer; /* マウスカーソルを指マークにする */
            padding: 2px 5px;
            border-radius: 3px;
            transition: background-color 0.2s; /* 背景色の変化を滑らかに */
        }
        /* 選択されている時のスタイル（薄い黄色） */
        .date-entry.selected {
            background-color: #fffacd;
        }
        /* 担当者名を表示する部分のスタイル */
        .assignee {
            color: #d9534f;
            font-weight: bold;
            margin-left: 5px; /* 「｜」との間に少し余白を設ける */
        }
    </style>
</head>
<body>

<div class="container">
    <h2>2025年9月シフト 都心ブロック②その他東京</h2>

    <div class="input-group">
        <label for="mainTextBox">担当者名:</label>
        <input type="text" id="mainTextBox" placeholder="ここに名前を入力">
    </div>
    <hr>

    <div class="shift-block">
        <p><span class="block-title">【門前仲町+木場】</span><br>
        ◎庄や門前仲町店<br>
        ◎庄や木場店<br>
        金、日、祝、祝前</p>
        <div class="shift-line"><span class="date-entry">5金</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">7日</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">12金</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">14日祝前</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">15月祝</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">19金</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">21日</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">22月祝前</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">23火祝</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">26金</span>｜<span class="assignee"></span></div>
    </div>

    <div class="shift-block">
        <p><span class="block-title">【門前仲町+水道橋】</span><br>
        ◎庄や門前仲町店<br>
        ◎庄や水道橋店<br>
        土、日、祝、祝前</p>
        <div class="shift-line"><span class="date-entry">6土</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">7日</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">13土</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">14日祝前</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">15月祝</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">20土</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">21日</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">22月祝前</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">23火祝</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">27土</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">28日</span>｜<span class="assignee"></span></div>
    </div>

    <div class="shift-block">
        <p><span class="block-title">【錦糸町】</span><br>
        ◎庄や錦糸町店<br>
        (土→＋◎庄や神田東口店 日→+庄や◎新小岩南口店)<br>
        ◎夜なんです1,2(イベント日のみ)<br>
        土、日</p>
        <div class="shift-line"><span class="date-entry">6土</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">7日</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">13土</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">14日</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">20土</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">21日</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">27土</span>｜<span class="assignee"></span></div>
        <div class="shift-line"><span class="date-entry">28日</span>｜<span class="assignee"></span></div>
    </div>
</div>

<script>
// --- JavaScript ---

// ページが読み込まれたら、クリックイベントを設定する
document.addEventListener('DOMContentLoaded', function() {
    const dateElements = document.querySelectorAll('.date-entry');
    dateElements.forEach(function(element) {
        element.addEventListener('click', function() {
            toggleSelection(element);
        });
    });
});

function toggleSelection(clickedElement) {
    const name = document.getElementById('mainTextBox').value;
    if (name.trim() === '') {
        alert('先ず、担当者名を入力してください。');
        return;
    }

    // クリックされた日付の「親要素(div)」から、担当者名を表示するspanをクラス名で探す（より確実な方法）
    const assigneeSpan = clickedElement.parentElement.querySelector('.assignee');

    if (clickedElement.classList.contains('selected')) {
        // 選択解除
        clickedElement.classList.remove('selected');
        assigneeSpan.textContent = '';
    } else {
        // 選択
        clickedElement.classList.add('selected');
        assigneeSpan.textContent = name;
    }
}
</script>

</body>
</html>
