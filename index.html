<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>シフト入力アプリ</title>
    <style>
        html { scroll-behavior: smooth; }
        body {
            font-family: sans-serif; padding: 20px;
            line-height: 1.8; margin-bottom: 100px;
        }
        .container {
            max-width: 700px; margin: 0 auto; border: 1px solid #ccc;
            padding: 25px; border-radius: 8px;
        }
        .input-group { margin-bottom: 20px; }
        .input-group label { font-weight: bold; margin-right: 10px; }
        #mainTextBox {
            padding: 8px; width: 200px; border: 1px solid #ccc; border-radius: 4px;
        }
        textarea#commentBox { width: 95%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        .shift-block { margin-top: 25px; }
        .block-title { font-size: 1.2em; font-weight: bold; }
        .shift-line { display: flex; align-items: center; flex-wrap: wrap; }
        .date-entry {
            cursor: pointer; padding: 2px 5px; border-radius: 3px;
            transition: background-color 0.2s;
        }
        .date-entry.selected { background-color: #fffacd; }
        .assignee { color: #d9534f; font-weight: bold; margin: 0 5px; }
        .page-title { text-align: center; margin-bottom: 25px; }
        .section-title {
            font-size: 1.5em; margin-top: 40px; padding-bottom: 5px;
            border-bottom: 2px solid #0056b3;
        }
        .toc {
            margin-bottom: 25px; padding: 15px; background-color: #f8f9fa;
            border: 1px solid #dee2e6; border-radius: 5px;
        }
        .toc h3 { margin-top: 0; }
        .toc ul { list-style-type: none; padding-left: 0; margin-bottom: 0; }
        .toc li { margin-bottom: 5px; }
        .toc a { text-decoration: none; color: #0056b3; font-weight: bold; }
        .toc a:hover { text-decoration: underline; }
        .note-red { color: #dc3545; font-weight: bold; }
        .scroll-button-wrapper {
            text-align: right; margin-top: 20px; margin-bottom: 20px;
        }
        .scroll-button {
            display: inline-block; padding: 8px 16px; background-color: #6c757d;
            color: white; text-decoration: none; border-radius: 4px;
            font-size: 0.9em; transition: background-color 0.2s;
        }
        .scroll-button:hover { background-color: #5a6268; }
        .scroll-button + .scroll-button { margin-left: 8px; }
        .secondary-option {
            margin-left: 8px; padding: 2px 5px; border-radius: 3px;
            transition: background-color 0.2s, color 0.2s; cursor: pointer;
        }
        .secondary-option.disabled { color: #aaa; cursor: not-allowed; background-color: transparent; }
        .secondary-option.selected { background-color: #d4edda; color: #155724; }
        .appended-text { color: #155724; font-weight: bold; margin-left: 8px; }
        .button-container { text-align: center; margin-top: 30px; }
        .action-button {
            padding: 12px 25px; font-size: 1.1em; cursor: pointer;
            color: white; border: none;
            border-radius: 5px; transition: background-color 0.2s;
        }
        #sendButton { background-color: #28a745; }
        #sendButton:hover:not(:disabled) { background-color: #218838; }
        #confirmButton { background-color: #007bff; margin-left: 10px; }
        #confirmButton:hover:not(:disabled) { background-color: #0056b3; }
        #notification {
            position: fixed; bottom: 20px; left: 50%;
            transform: translateX(-50%); background-color: #28a745;
            color: white; padding: 12px 22px; border-radius: 5px;
            z-index: 1000; opacity: 0;
            transition: opacity 0.5s ease-in-out; pointer-events: none;
        }
        #notification.show { opacity: 1; }
        #notification.error { background-color: #dc3545; }
        #result-shifts-list ul { list-style-type: none; padding-left: 0; }
        #result-shifts-list li {
            background-color: #f8f9fa; border: 1px solid #dee2e6;
            padding: 10px 15px; margin-bottom: 10px; border-radius: 5px;
        }
        #result-shifts-list h4 {
            margin-top: 0; margin-bottom: 8px; font-size: 1.1em; color: #0056b3;
        }
        #result-comment {
            white-space: pre-wrap; background-color: #f8f9fa; border: 1px solid #dee2e6;
            padding: 10px; border-radius: 5px;
        }
        #copyButton {
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            color: white;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            transition: background-color 0.2s;
            margin-top: 20px;
        }
        #copyButton:hover {
            background-color: #0056b3;
        }

     /* ▼▼▼ 目次に戻る固定ボタン用のCSS ▼▼▼ */
   #back-to-toc-btn {
    position: fixed;      /* 画面に要素を固定する */
    bottom: 80px;         /* 画面の下から20pxの位置 */
    right: 10px;          /* 画面の右から20pxの位置 */
    z-index: 999;         /* 他の要素より常に手前に表示する */

    background-color: #6c757d;  /* ボタンの背景色 */
    color: white;               /* 文字色 */
    width: 150px;                /* ボタンの幅 */
    height: 50px;               /* ボタンの高さ */
    text-decoration: none;      /* テキストの下線を消す */
    text-align: center;         /* 文字を中央揃えにする */
    line-height: 60px;          /* 文字を垂直方向に中央揃えする */
    font-size: 14px;            /* 文字サイズ */
    font-weight: bold;          /* 文字を太くする */
    box-shadow: 0 2px 5px rgba(0,0,0,0.3); /* ボタンに影を付ける */
    transition: background-color 0.2s; /* ホバー時の色変化を滑らかに */
}
#back-to-toc-btn:hover {
    background-color: #5a6268; /* マウスを乗せたときの色 */
}

#submit-shift-btn {
    position: fixed;      /* 画面に要素を固定する */
    bottom: 20px;         /* 画面の下から20pxの位置 */
    right: 10px;          /* 画面の右から20pxの位置 */
    z-index: 999;         /* 他の要素より常に手前に表示する */

    background-color: #6c757d;  /* ボタンの背景色 */
    color: white;               /* 文字色 */
    width: 150px;                /* ボタンの幅 */
    height: 50px;               /* ボタンの高さ */
    text-decoration: none;      /* テキストの下線を消す */
    text-align: center;         /* 文字を中央揃えにする */
    line-height: 60px;          /* 文字を垂直方向に中央揃えする */
    font-size: 14px;            /* 文字サイズ */
    font-weight: bold;          /* 文字を太くする */
    box-shadow: 0 2px 5px rgba(0,0,0,0.3); /* ボタンに影を付ける */
    transition: background-color 0.2s; /* ホバー時の色変化を滑らかに */
}
#submit-shift-btn {
    background-color: #5a6268; /* マウスを乗せたときの色 */
}       
.batch-select-btn {
    background-color: #f0f0f0; border: 1px solid #ccc;
    padding: 3px 8px; font-size: 0.8em; border-radius: 4px;
    cursor: pointer; margin-right: 5px; margin-bottom: 5px;
}
.batch-select-btn:hover { background-color: #e0e0e0; }
    </style>
</head>
<body>

<div class="container">
    <h1 class="page-title">25年11月シフト</h1>

    <div id="submission-result" style="display: none;">
        <h2 class="section-title">提出済みのシフト</h2>
        <p><strong id="result-magician-name"></strong>さんの提出内容は以下の通りです。</p>
        <div id="result-shifts-list"></div>
        <div id="result-comment-area" style="display: none;">
            <h3 style="margin-top: 30px; font-size: 1.2em;">コメント</h3>
            <p id="result-comment"></p>
        </div>
        <div style="text-align: center;">
            <button id="copyButton">シフト一覧をクリップボードにコピー</button>
        </div>
        <p style="margin-top: 25px; color: #6c757d; font-size: 0.9em; text-align: center;">
            ※この内容は、このブラウザに保存された控えです。<br>
            ※提出後に修正が必要な場合は、大吉の個別LINEまでお願いします。
        </p>
    </div>

    <div id="shift-input-form">
        <div class="input-group">
            <label for="mainTextBox">マジシャン名（最初に入力してください）</label>
            <input type="text" id="mainTextBox" placeholder="ここに名前を入力">
        </div>

        <p class="note-red" style="margin-top: -10px; margin-bottom: 20px;">
            すべてのシフト入力が完了したら、ページ一番下の「シフト提出」ボタンを押し、<br>「シフト提出が完了しました」と表示されるまでお待ちください(40秒くらいかかる場合もアリ)
            <br>また、提出後に修正が必要な場合は、大吉の個別LINEまでお願いします。
        </p>

        <div class="toc" id="toc-anchor">
            <h3>目次</h3>
            <ul>
                <li><a href="#section-1">１．都心ブロック①新宿周辺</a></li>
                <li><a href="#section-1-1">　　【新宿】</a></li>
                <li><a href="#section-1-2">　　【トニーローマ】</a></li>
                <li><a href="#section-1-3">　　【目黒】</a></li>
                <li><a href="#section-1-4">　　【茗荷谷】</a></li>
                
                <li><a href="#section-2">２．都心ブロック②その他東京</a></li>
                <li><a href="#section-2-1">　　【門前仲町+木場】</a></li>
                <li><a href="#section-2-2">　　【門前仲町+水道橋】</a></li>
                <li><a href="#section-2-3">　　【錦糸町】</a></li>
                <li><a href="#section-2-4">　　【蒲田A】</a></li>
                <li><a href="#section-2-5">　　【蒲田B】</a></li>
                <li><a href="#section-2-6">　　【蒲田水曜日】</a></li>
                <li><a href="#section-2-7">　　【赤坂】</a></li>
                <li><a href="#section-2-8">　　【上野】</a></li>
                <li><a href="#section-2-8">　　【大井町】</a></li>
                
                <li><a href="#section-3">３．立川町田ブロック</a></li>
                <li><a href="#section-3-1">　　【立川A】</a></li>
                <li><a href="#section-3-2">　　【立川B】</a></li>
                <li><a href="#section-3-3">　　【国立+新小平】</a></li>
                <li><a href="#section-3-4">　　【町田+小田急相模原】</a></li>
                <li><a href="#section-3-5">　　【町田＋登戸】</a></li>
                <li><a href="#section-3-6">　　【横浜関内】</a></li>
                
                <li><a href="#section-4">４．千葉埼玉ホームブロック</a></li>
                <li><a href="#section-4-1">　　【南行徳】</a></li>
                <li><a href="#section-4-2">　　【千葉】</a></li>
                <li><a href="#section-4-3">　　【西千葉】</a></li>
                <li><a href="#section-4-4">　　【津田沼】</a></li>
                <li><a href="#section-4-5">　　【赤羽】</a></li>
                <li><a href="#section-4-6">　　【新小岩】</a></li>
                <li><a href="#section-4-7">　　【柏西口】</a></li>
                <li><a href="#section-4-8">　　【船橋南口】</a></li>
            </ul>
        </div>
        <hr>
        
        <div id="shift-content">
            <h2 class="section-title" id="section-1">１．都心ブロック①新宿周辺</h2>
            <div class="shift-block">
                <p><span class="block-title" id="section-1-1">【新宿】</span><br>◎沖縄料理一(いち)新宿店<br>◎築地日本海新宿西口店<br>水、金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-1-2">【トニーローマ】</span><br>◎トニーローマ三番町店<br>水、金、土、日、祝、祝前</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button><button class="batch-select-btn" data-day="日">日一括</button>
                <div class="shift-line"><span class="date-entry">1土</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">3月祝</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">8土</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">9日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">15土</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">16日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">24月祝</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">29土</span><span class="secondary-option disabled">門前仲町も追加</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">30日</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-1-3">【目黒】</span><br>◎庄や 目黒408店<br>・博多天神もつ鍋お多福<br>水、金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-1-4">【茗荷谷】</span><br>◎築地日本海茗荷谷店<br>◎大翔園<br>金、土</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>

            <h2 class="section-title" id="section-2">２．都心ブロック②その他東京</h2>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-1">【門前仲町+木場】</span><br>◎庄や門前仲町店<br>◎庄や木場店<br>◎とらまい（不定休）<br>◎39Bar（月休み、祝不定休）<br>金、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button>
                <div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-2">【門前仲町+水道橋】</span><br>◎庄や門前仲町店<br>◎庄や水道橋店<br>◎とらまい（不定休）<br>土、祝、祝前</p>
                <button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-3">【錦糸町】</span><br>◎庄や錦糸町店<br>(土→＋◎庄や神田東口店 日→+庄や◎新小岩南口店)<br>土、日</p>
                <button class="batch-select-btn" data-day="土">土一括</button><button class="batch-select-btn" data-day="日">日一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">9日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">16日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">30日</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-4">【蒲田A】</span><br>◎築地日本海蒲田店<br>・花火<br>・夜明けぜよ<br>・ナンバーニク<br>・バーヒロ<br>・カウンターバーRAPU RAPU<br>・居酒屋RAPU RAPU<br>・ワルンバリ<br>・築地日本海糀谷店 (希望者のみ)<br>金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-5">【蒲田B】</span><br>・串幸 (日休業)<br>◎お好み焼きとしちゃん<br>・ぼっけもん<br>・パズリング<br>・魚浜<br>・うなぎ屋（翔、とんのみ）<br>・豚番長<br>・路地一献◯まる<br>・（ザトランジット東京 しばらく無し）<br>金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-6">【蒲田水曜日】</span><br>◎築地日本海蒲田店<br>・串幸<br>・夜明けぜよ<br>・ぼっけもん<br>・居酒屋RAPU RAPU<br>・豚番長<br>(・ザトランジット東京 しばらく無し）<br>◎お好み焼きとしちゃん<br>水</p>
                <button class="batch-select-btn" data-day="水">水一括</button>
                <div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-7">【赤坂】</span><br>◎庄や赤坂店<br>◎Irish Pub Craic (クライック、都度許可取り)<br>水、金</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button>
                <div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-8">【上野】</span><br>◎庄や上野駅前店<br>◎エソラ上野駅前店<br>（水金のみ→◎日本海庄や 上野浅草口店 日定休）<br>水、金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-2-9">【大井町】</span><br>・大井町バル横丁<br>◎ちゃぶっとりあ（水のみ）<br>金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>

            <h2 class="section-title" id="section-3">３．立川町田ブロック</h2>
            <div class="shift-block">
                <p><span class="block-title" id="section-3-1">【立川A】</span><br>◎GB立川店<br>◎ここにこんね<br>・フレンチ酒場こづ（水金土のみ）<br>・マルミヤ（水金土のみ）<br>（日曜は、GB+こんねのみ）<br>水、金、土、日、祝、祝前</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button><button class="batch-select-btn" data-day="日">日一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">9日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">16日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">30日</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-3-2">【立川B】</span><br>◎庄や立川南諏訪通り<br>・おっ魚<br>・和海（なごみ）<br>水、金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-3-3">【国立+新小平】</span><br>◎庄や国立店<br>◎庄や新小平店<br>◎クラフト酒場クニタチカ（1月・4月・7月・10月予定で、各月1回ずつ）<br>金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-3-4">【町田+小田急相模原】</span><br><span class="note-red">町田に人が入っている場合は、小田急相模原のみとなります。</span><br>◎庄や町田本家店<br>・エソラ町田駅前店<br>◎庄や小田急相模原店<br>・ManiMani<br>・いくどん<br>・とりいちず<br>・明月苑（水休み）<br>・マリアンナ<br>・えびす<br>・お祭りさっちゃん<br>以下は、翔・ダイキチ・オーイズミ、みうのみ<br>・スナックライブリー<br>水、金、土、日、祝、祝前</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button><button class="batch-select-btn" data-day="日">日一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">9日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">16日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">30日</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-3-5">【町田＋登戸】</span><br>◎庄や町田本家店<br>・エソラ町田駅前店<br>◎日本海庄や登戸店<br>金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-3-6">【横浜関内】</span><br>・うし極<br>◎トントス<br>◎ミヤオガパオ<br>◎ガールズバーさくら<br>◎バー111<br>・バーりあん<br>・金魚（月～木）未定<br>金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>

            <h2 class="section-title" id="section-4">４．千葉埼玉ホームブロック</h2>
            <div class="shift-block">
                <p><span class="block-title" id="section-4-1">【南行徳】</span><br>◎庄や南行徳店<br>◎やる気酒場アトレ新浦安店<br>金、土、日、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button><button class="batch-select-btn" data-day="日">日一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">9日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">16日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">30日</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-4-2">【千葉】</span><br>◎築地日本海千葉駅前店<br>◎築地日本海千葉中央店<br>金</p>
                <button class="batch-select-btn" data-day="金">金一括</button>
                <div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-4-3">【西千葉】</span><br>◎庄や西千葉店<br>◎ドラム缶<br>(土日→＋築地日本海千葉中央店)<br>金、土、日、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button><button class="batch-select-btn" data-day="日">日一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">9日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">16日</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">30日</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-4-4">【津田沼】</span><br>◎庄や京成津田沼店<br>◎庄や本八幡店<br>◎絶好鳥<br>金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-4-5">【赤羽】</span><br>◎日本海庄や赤羽西口店<br>◎築地日本海赤羽店<br>・赤羽満点酒場<br>土、祝、祝前</p>
                <button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-4-6">【新小岩】</span><br>◎庄や新小岩南口<br>◎庄や本八幡店<br>水</p>
                <button class="batch-select-btn" data-day="水">水一括</button>
                <div class="shift-line"><span class="date-entry">5水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">12水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">19水</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">26水</span>｜<span class="assignee"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-4-7">【柏西口】</span><br><span class="note-red">◎庄や柏西口店(11月から再開予定）</span><br>(+選択式 ◎庄や新八柱南口店、◎庄や増尾店、◎日昇)<br>水、金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="水">水一括</button><button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">3月祝</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">5水</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">7金</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">8土</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">12水</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">14金</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">15土</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">19水</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">21金</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">24月祝</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">26水</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">28金</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div><div class="shift-line"><span class="date-entry">29土</span><span class="secondary-option disabled">庄や新八柱南口店</span><span class="secondary-option disabled">庄や増尾店</span><span class="secondary-option disabled">日昇</span>｜<span class="assignee"></span><span class="appended-text"></span></div>
            </div>
            <div class="shift-block">
                <p><span class="block-title" id="section-4-8">【船橋南口】</span><br>◎日本海庄や船橋南口店<br>◎庄や馬込沢店<br>金、土、祝、祝前</p>
                <button class="batch-select-btn" data-day="金">金一括</button><button class="batch-select-btn" data-day="土">土一括</button>
                <div class="shift-line"><span class="date-entry">1土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">2日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">3月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">7金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">8土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">14金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">15土</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">21金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">22土祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">23日祝前</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">24月祝</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">28金</span>｜<span class="assignee"></span></div><div class="shift-line"><span class="date-entry">29土</span>｜<span class="assignee"></span></div>
            </div>
        </div>

        <div id="page-bottom-anchor"></div>

        <div class="input-group">
            <label for="commentBox">コメント欄（何かあればご記載ください）</label>
            <textarea id="commentBox" rows="3"></textarea>
        </div>
        
        <div class="button-container">
            <button id="sendButton" class="action-button">シフト提出</button>
            <button id="confirmButton" class="action-button" disabled>シフト確認（シフト提出後押せます）</button>
        </div>
    </div>
</div>

<div id="notification"></div>

<script>
const GAS_WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbwmD-V9LWDQ7edPKsUwC9QWszCzJ-JYGT_vQ-nU6S75VnddpsQBRG91c90ZZymi7rP5yg/exec';
const STORAGE_KEY = 'shiftAppData_2025_11';

document.addEventListener('DOMContentLoaded', function() {
    loadData();
    const itemStr = localStorage.getItem(STORAGE_KEY);
    let isSubmitted = false;
    if (itemStr) {
        try {
            const item = JSON.parse(itemStr);
            if (item && item.value && item.value.submitted) {
                isSubmitted = true;
            }
        } catch(e) {}
    }

    if (!isSubmitted) {
        document.querySelectorAll('.date-entry').forEach(el => {
            el.addEventListener('click', () => { toggleSelection(el); saveData(); });
        });
        document.querySelectorAll('.secondary-option').forEach(el => {
            el.addEventListener('click', () => { toggleSecondaryOption(el); saveData(); });
        });
        document.getElementById('mainTextBox').addEventListener('input', () => {
            updateAllAssigneeNames();
            saveData();
        });
        document.getElementById('commentBox').addEventListener('input', saveData);
        document.getElementById('sendButton').addEventListener('click', sendDataToSheet);

        document.querySelectorAll('.batch-select-btn').forEach(button => {
            button.addEventListener('click', function() {
                const day = this.getAttribute('data-day');
                const shiftBlock = this.closest('.shift-block');
                if (day && shiftBlock) {
                    batchSelectByDay(shiftBlock, day);
                }
            });
        });
    }
    
    document.getElementById('confirmButton').addEventListener('click', copyShiftsToClipboard);
});

    function batchSelectByDay(shiftBlock, day) {
    const name = document.getElementById('mainTextBox').value;
    if (name.trim() === '') {
        alert('先にマジシャン名を入力してください。');
        return;
    }
    
    const dateEntries = shiftBlock.querySelectorAll('.date-entry');
    dateEntries.forEach(dateEntry => {
        // 正規表現を使い、日付の末尾が指定の曜日かチェック（例：「1土」「12日祝前」などに対応）
        const regex = new RegExp(day + '($|祝)');
        if (regex.test(dateEntry.innerText) && !dateEntry.classList.contains('selected')) {
            toggleSelection(dateEntry);
        }
    });
    saveData(); // 変更を保存
}

function copyShiftsToClipboard() {
    let clipboardText = '';
    const magicianName = document.getElementById('mainTextBox').value.trim();
    if (!magicianName) {
        showNotification('マジシャン名が入力されていません。', true);
        return;
    }
    clipboardText += `11月 提出シフト\n\n`;

    const shiftsByStore = new Map();

    document.querySelectorAll('.shift-block').forEach(block => {
        const storeName = block.querySelector('.block-title').innerText.trim();
        let datesForStore = [];

        block.querySelectorAll('.shift-line').forEach(line => {
            const assigneeSpan = line.querySelector('.assignee');
            if (assigneeSpan && assigneeSpan.innerText.trim() !== '') {
                const dateText = line.querySelector('.date-entry').innerText;
                datesForStore.push(dateText);
            }
        });

        if (datesForStore.length > 0) {
            if (!shiftsByStore.has(storeName)) {
                shiftsByStore.set(storeName, []);
            }
            shiftsByStore.get(storeName).push(...datesForStore);
        }
    });

    if (shiftsByStore.size === 0) {
        showNotification('コピーするシフトがありません。', true);
        return;
    }

    shiftsByStore.forEach((dates, store) => {
        clipboardText += `${store}\n`;
        clipboardText += dates.join(', ') + '\n\n';
    });

    navigator.clipboard.writeText(clipboardText.trim())
        .then(() => {
            showNotification('提出シフトをコピーしました。好きなところに張り付けて確認してください。', false);
        })
        .catch(err => {
            console.error('コピーに失敗:', err);
            showNotification('コピーに失敗しました。', true);
        });
}

function displaySubmissionResult(payload) {
    const formElement = document.getElementById('shift-input-form');
    const resultElement = document.getElementById('submission-result');
    if (!payload || payload.length === 0) return;

    // 提出後にフォームは非表示にせず、入力不可にするアプローチに変更
    // formElement.style.display = 'none';
    // resultElement.style.display = 'block';

    const magicianName = payload[0].value.split(' ')[0];
    const comment = payload[0].comment;

    // フォーム要素を無効化
    document.getElementById('mainTextBox').disabled = true;
    document.getElementById('commentBox').disabled = true;
    document.querySelectorAll('.date-entry').forEach(el => el.style.pointerEvents = 'none');
    document.querySelectorAll('.secondary-option').forEach(el => el.style.pointerEvents = 'none');
}

function sendDataToSheet() {
    if (confirm('シフトを提出します。よろしいですか？（提出後はフォームから修正できなくなります）')) {
        const sendButton = document.getElementById('sendButton');
        const confirmButton = document.getElementById('confirmButton');
        if (document.getElementById('mainTextBox').value.trim() === '') {
            alert('マジシャン名を入力してください。');
            return;
        }
        const comment = document.getElementById('commentBox').value.trim();
        const payload = [];
        document.querySelectorAll('.shift-block').forEach(block => {
            const blockTitleEl = block.querySelector('.block-title');
            if (!blockTitleEl) return;
            const storeName = blockTitleEl.innerText.trim();
            block.querySelectorAll('.shift-line').forEach(line => {
                const assigneeSpan = line.querySelector('.assignee');
                if (assigneeSpan && assigneeSpan.innerText.trim() !== '') {
                    const dateText = line.querySelector('.date-entry').innerText;
                    let appendedText = '';
                    const appendedEl = line.querySelector('.appended-text');
                    if (appendedEl && appendedEl.innerText) {
                        appendedText = ' ' + appendedEl.innerText;
                    }
                    const valueString = assigneeSpan.innerText + appendedText;
                    payload.push({ store: storeName, date: dateText, value: valueString, comment: comment });
                }
            });
        });
        if (GAS_WEB_APP_URL === 'ここにウェブアプリのURLを貼り付けてください') {
            alert('HTMLファイル内の「GAS_WEB_APP_URL」が設定されていません。\n設定手順を確認してください。');
            return;
        }
        sendButton.disabled = true;
        sendButton.textContent = '送信中...';
        fetch(GAS_WEB_APP_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'text/plain;charset=utf-8' },
            body: JSON.stringify(payload)
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                showNotification('シフト提出が完了しました。', false);
                sendButton.textContent = '提出済み';
                confirmButton.disabled = false;
                saveData(true, payload);
                // フォームを非表示にする代わりに、入力不可にする
                displaySubmissionResult(payload);
            } else {
                showNotification(`送信に失敗しました: ${data.message || '不明なエラー'}`, true);
                sendButton.disabled = false;
                sendButton.textContent = 'シフト提出';
            }
        })
        .catch(error => {
            console.error('送信エラー:', error);
            showNotification('送信中にエラーが発生しました。', true);
            sendButton.disabled = false;
            sendButton.textContent = 'シフト提出';
        });
    }
}

function showNotification(message, isError = false) {
    const notification = document.getElementById('notification');
    notification.textContent = message;
    notification.classList.toggle('error', isError);
    notification.classList.add('show');
    setTimeout(() => { notification.classList.remove('show'); }, 4000);
}

function saveData(forceSubmittedState = null, submittedPayload = null) {
    let isAlreadySubmitted = false;
    const itemStr = localStorage.getItem(STORAGE_KEY);
    if (itemStr) {
        try {
            const item = JSON.parse(itemStr);
            if (item && item.value && item.value.submitted) {
                isAlreadySubmitted = true;
            }
        } catch (e) {}
    }

    const data = {
        magicianName: document.getElementById('mainTextBox').value,
        comment: document.getElementById('commentBox').value,
        selections: [],
        submitted: (forceSubmittedState !== null) ? forceSubmittedState : isAlreadySubmitted,
        submittedPayload: submittedPayload
    };

    document.querySelectorAll('.shift-line').forEach((line, index) => {
        const dateEntry = line.querySelector('.date-entry');
        if (dateEntry && dateEntry.classList.contains('selected')) {
            const secondaryOptions = [];
            line.querySelectorAll('.secondary-option.selected').forEach(opt => {
                secondaryOptions.push(opt.innerText);
            });
            data.selections.push({ lineIndex: index, options: secondaryOptions });
        }
    });
    const item = { value: data, expiry: new Date().getTime() + (10 * 24 * 60 * 60 * 1000) };
    localStorage.setItem(STORAGE_KEY, JSON.stringify(item));
}

function loadData() {
    const itemStr = localStorage.getItem(STORAGE_KEY);
    if (!itemStr) return;
    try {
        const item = JSON.parse(itemStr);
        if (!item || !item.expiry || !item.value || new Date().getTime() > item.expiry) {
            localStorage.removeItem(STORAGE_KEY);
            return;
        }
        const data = item.value;

        if (data.submitted && data.submittedPayload) {
             // フォームは表示したまま入力不可にする
            displaySubmissionResult(data.submittedPayload);
        }

        if (data.submitted) {
            const sendButton = document.getElementById('sendButton');
            sendButton.disabled = true;
            sendButton.textContent = '提出済み';
            document.getElementById('confirmButton').disabled = false;
        }
        const name = data.magicianName || '';
        document.getElementById('mainTextBox').value = name;
        document.getElementById('commentBox').value = data.comment || '';
        if (Array.isArray(data.selections)) {
            const allLines = document.querySelectorAll('.shift-line');
            data.selections.forEach(sel => {
                if (sel && typeof sel.lineIndex === 'number') {
                    const line = allLines[sel.lineIndex];
                    if (line) {
                        const dateEntry = line.querySelector('.date-entry');
                        if (dateEntry) {
                            dateEntry.classList.add('selected');
                            line.querySelector('.assignee').textContent = name;
                            const secondaryOpts = line.querySelectorAll('.secondary-option');
                            secondaryOpts.forEach(opt => opt.classList.remove('disabled'));
                            if (sel.options && sel.options.length > 0) {
                                let appendedText = '';
                                secondaryOpts.forEach(opt => {
                                    if (sel.options.includes(opt.innerText)) {
                                        opt.classList.add('selected');
                                        appendedText += `（${opt.innerText}） `;
                                    }
                                });
                                line.querySelector('.appended-text').textContent = appendedText.trim();
                            }
                        }
                    }
                }
            });
        }
    } catch (e) {
        localStorage.removeItem(STORAGE_KEY);
    }
}

function updateAllAssigneeNames() {
    const newName = document.getElementById('mainTextBox').value;
    document.querySelectorAll('.date-entry.selected').forEach(selectedDate => {
        const assigneeSpan = selectedDate.parentElement.querySelector('.assignee');
        if (assigneeSpan) {
            assigneeSpan.textContent = newName;
        }
    });
}

function toggleSelection(clickedElement) {
    const name = document.getElementById('mainTextBox').value;
    const assigneeSpan = clickedElement.parentElement.querySelector('.assignee');
    const secondaryOptions = clickedElement.parentElement.querySelectorAll('.secondary-option');
    if (clickedElement.classList.contains('selected')) {
        clickedElement.classList.remove('selected');
        assigneeSpan.textContent = '';
        if (secondaryOptions.length > 0) {
            secondaryOptions.forEach(option => {
                option.classList.remove('selected');
                option.classList.add('disabled');
            });
            const appendedTextSpan = clickedElement.parentElement.querySelector('.appended-text');
            if (appendedTextSpan) appendedTextSpan.textContent = '';
        }
    } else {
        if (name.trim() === '') {
            alert('マジシャン名を入力してください。');
            return;
        }
        clickedElement.classList.add('selected');
        assigneeSpan.textContent = name;
        secondaryOptions.forEach(option => option.classList.remove('disabled'));
    }
}

function toggleSecondaryOption(clickedElement) {
    if (clickedElement.classList.contains('disabled')) return;
    const appendedTextSpan = clickedElement.parentElement.querySelector('.appended-text');
    const textToAdd = clickedElement.innerText;
    const formattedText = `（${textToAdd}）`;
    if (clickedElement.classList.contains('selected')) {
        clickedElement.classList.remove('selected');
        appendedTextSpan.textContent = appendedTextSpan.textContent.replace(formattedText, '').trim();
    } else {
        clickedElement.classList.add('selected');
        appendedTextSpan.textContent = (appendedTextSpan.textContent + ' ' + formattedText).trim();
    }
}
</script>
<a href="#toc-anchor" id="back-to-toc-btn">目次に戻る</a>
<a href="#page-bottom-anchor" id="submit-shift-btn">これでシフト提出する</a>
</body>
</html>
